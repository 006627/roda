2015-07-30 15:03:01,298 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 15:03:01,298 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 15:03:01,298 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-07-30 15:03:01,298 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,298 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-07-30 15:03:01,298 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-07-30 15:03:01,298 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-07-30 15:03:01,298 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-07-30 15:03:01,298 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-07-30 15:03:01,298 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-07-30 15:03:01,299 - Created '20' parsers.
2015-07-30 15:03:01,299 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-07-30 15:03:01,299 - Velocimacro : Default library not found.
2015-07-30 15:03:01,299 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-07-30 15:03:01,299 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-07-30 15:03:01,299 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-07-30 15:03:01,299 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-07-30 15:03:01,313 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,320 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,327 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,329 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,330 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,331 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 15:03:01,332 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:40,874 - Log4JLogChute initialized using file 'velocity.log'
2015-07-30 16:13:40,874 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-07-30 16:13:40,874 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-07-30 16:13:40,874 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-07-30 16:13:40,874 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
	at org.glassfish.grizzly.servlet.WebappContext.contextInitialized(WebappContext.java:2021)
	at org.glassfish.grizzly.servlet.WebappContext.deploy(WebappContext.java:306)
	at org.fcrepo.http.commons.test.util.ContainerWrapper.start(ContainerWrapper.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:260)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:63)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:83)
	at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:74)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:116)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:82)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:199)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:251)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:253)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:216)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:82)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:67)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:162)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 93 more
2015-07-30 16:13:40,876 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:40,876 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:40,878 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-07-30 16:13:40,879 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:40,884 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-07-30 16:13:40,885 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-07-30 16:13:40,885 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-07-30 16:13:40,886 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-07-30 16:13:40,887 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-07-30 16:13:40,887 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-07-30 16:13:40,899 - Created '20' parsers.
2015-07-30 16:13:40,902 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-07-30 16:13:40,902 - Velocimacro : Default library not found.
2015-07-30 16:13:40,902 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-07-30 16:13:40,902 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-07-30 16:13:40,902 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-07-30 16:13:40,902 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-07-30 16:13:40,977 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:40,987 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:40,997 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:40,999 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,001 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,002 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,003 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,616 - Log4JLogChute initialized using file 'velocity.log'
2015-07-30 16:13:41,616 - Log4JLogChute initialized using file 'velocity.log'
2015-07-30 16:13:41,617 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-07-30 16:13:41,617 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-07-30 16:13:41,617 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-07-30 16:13:41,617 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-07-30 16:13:41,617 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-07-30 16:13:41,617 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-07-30 16:13:41,617 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-07-30 16:13:41,617 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-07-30 16:13:41,617 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:41,617 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:41,617 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:41,617 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-07-30 16:13:41,617 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-07-30 16:13:41,617 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-07-30 16:13:41,617 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,617 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,617 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-07-30 16:13:41,617 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-07-30 16:13:41,618 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-07-30 16:13:41,618 - Created '20' parsers.
2015-07-30 16:13:41,618 - Created '20' parsers.
2015-07-30 16:13:41,618 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-07-30 16:13:41,618 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-07-30 16:13:41,619 - Velocimacro : Default library not found.
2015-07-30 16:13:41,619 - Velocimacro : Default library not found.
2015-07-30 16:13:41,619 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-07-30 16:13:41,619 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-07-30 16:13:41,619 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-07-30 16:13:41,619 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-07-30 16:13:41,619 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-07-30 16:13:41,619 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-07-30 16:13:41,619 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-07-30 16:13:41,619 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-07-30 16:13:41,633 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,633 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,639 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,639 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,645 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,645 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,647 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,647 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,648 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,648 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,649 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,649 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,650 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-07-30 16:13:41,650 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,499 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 14:56:45,499 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 14:56:45,499 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 14:56:45,499 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 14:56:45,499 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
	at org.glassfish.grizzly.servlet.WebappContext.contextInitialized(WebappContext.java:2021)
	at org.glassfish.grizzly.servlet.WebappContext.deploy(WebappContext.java:306)
	at org.fcrepo.http.commons.test.util.ContainerWrapper.start(ContainerWrapper.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:260)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:63)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:83)
	at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:74)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:116)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:82)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:199)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:251)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:253)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:216)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:82)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:67)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:162)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 93 more
2015-08-04 14:56:45,500 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:45,500 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:45,502 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 14:56:45,503 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,509 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 14:56:45,510 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 14:56:45,510 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 14:56:45,511 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 14:56:45,512 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 14:56:45,512 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 14:56:45,524 - Created '20' parsers.
2015-08-04 14:56:45,527 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 14:56:45,527 - Velocimacro : Default library not found.
2015-08-04 14:56:45,527 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 14:56:45,527 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 14:56:45,527 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 14:56:45,527 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 14:56:45,590 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,598 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,606 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,608 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,610 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,611 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:45,613 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,173 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 14:56:46,173 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 14:56:46,173 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 14:56:46,173 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 14:56:46,173 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 14:56:46,173 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 14:56:46,173 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 14:56:46,173 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 14:56:46,173 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-08-04 14:56:46,173 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-08-04 14:56:46,174 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:46,174 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:46,174 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:46,174 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 14:56:46,174 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 14:56:46,174 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 14:56:46,174 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,174 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,174 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 14:56:46,174 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 14:56:46,174 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 14:56:46,175 - Created '20' parsers.
2015-08-04 14:56:46,175 - Created '20' parsers.
2015-08-04 14:56:46,175 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 14:56:46,175 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 14:56:46,175 - Velocimacro : Default library not found.
2015-08-04 14:56:46,175 - Velocimacro : Default library not found.
2015-08-04 14:56:46,175 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 14:56:46,175 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 14:56:46,175 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 14:56:46,175 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 14:56:46,175 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 14:56:46,175 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 14:56:46,175 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 14:56:46,175 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 14:56:46,190 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,190 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,196 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,196 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,202 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,202 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,204 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,204 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,205 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,205 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,206 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,206 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,207 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 14:56:46,207 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,390 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 15:52:03,390 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 15:52:03,390 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 15:52:03,390 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 15:52:03,390 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
	at org.glassfish.grizzly.servlet.WebappContext.contextInitialized(WebappContext.java:2021)
	at org.glassfish.grizzly.servlet.WebappContext.deploy(WebappContext.java:306)
	at org.fcrepo.http.commons.test.util.ContainerWrapper.start(ContainerWrapper.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:540)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:725)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:260)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:63)
	at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:83)
	at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:74)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:116)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:82)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:199)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:251)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:253)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:216)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:82)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:67)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:162)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 93 more
2015-08-04 15:52:03,391 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:03,391 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:03,393 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 15:52:03,394 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,397 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 15:52:03,398 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 15:52:03,398 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 15:52:03,399 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 15:52:03,400 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 15:52:03,400 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 15:52:03,412 - Created '20' parsers.
2015-08-04 15:52:03,415 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 15:52:03,416 - Velocimacro : Default library not found.
2015-08-04 15:52:03,416 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 15:52:03,416 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 15:52:03,416 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 15:52:03,416 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 15:52:03,478 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,485 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,493 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,495 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,497 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,498 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:03,499 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,075 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 15:52:04,075 - Log4JLogChute initialized using file 'velocity.log'
2015-08-04 15:52:04,076 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 15:52:04,076 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2015-08-04 15:52:04,076 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 15:52:04,076 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2015-08-04 15:52:04,076 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 15:52:04,076 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2015-08-04 15:52:04,076 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-08-04 15:52:04,076 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.init(StreamingBaseHtmlProvider.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1019)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:377)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:105)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:58)
	at org.glassfish.jersey.internal.inject.ProviderToService.apply(ProviderToService.java:54)
	at jersey.repackaged.com.google.common.collect.Iterators$8.transform(Iterators.java:860)
	at jersey.repackaged.com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:169)
	at jersey.repackaged.com.google.common.collect.Sets.newLinkedHashSet(Sets.java:292)
	at org.glassfish.jersey.internal.inject.Providers.getClasses(Providers.java:378)
	at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:200)
	at org.glassfish.jersey.message.internal.MessageBodyFactory.<init>(MessageBodyFactory.java:329)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1107)
	at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:274)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:368)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:461)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:114)
	at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:102)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)
	at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)
	at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:153)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2268)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:690)
	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:655)
	at org.glassfish.jersey.server.model.ComponentModelValidator.<init>(ComponentModelValidator.java:97)
	at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:462)
	at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:163)
	at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:323)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)
	at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:320)
	at org.glassfish.jersey.server.ApplicationHandler.<init>(ApplicationHandler.java:285)
	at org.glassfish.jersey.servlet.WebComponent.<init>(WebComponent.java:311)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)
	at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.glassfish.grizzly.servlet.ServletHandler.loadServlet(ServletHandler.java:338)
	at org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:200)
	at org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:219)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 79 more
2015-08-04 15:52:04,076 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:04,076 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:04,076 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:04,076 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2015-08-04 15:52:04,076 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 15:52:04,076 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2015-08-04 15:52:04,076 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,076 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,076 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 15:52:04,076 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 15:52:04,076 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2015-08-04 15:52:04,077 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 15:52:04,077 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2015-08-04 15:52:04,077 - Created '20' parsers.
2015-08-04 15:52:04,077 - Created '20' parsers.
2015-08-04 15:52:04,077 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 15:52:04,077 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2015-08-04 15:52:04,077 - Velocimacro : Default library not found.
2015-08-04 15:52:04,077 - Velocimacro : Default library not found.
2015-08-04 15:52:04,077 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 15:52:04,077 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2015-08-04 15:52:04,077 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 15:52:04,077 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2015-08-04 15:52:04,077 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 15:52:04,077 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2015-08-04 15:52:04,077 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 15:52:04,077 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2015-08-04 15:52:04,091 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,091 - ResourceManager : found /views/nt-resource.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,097 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,097 - ResourceManager : found /views/nt-file.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,104 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,104 - ResourceManager : found /views/mode-root.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,105 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,105 - ResourceManager : found /views/jcr-nodetypes.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,106 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,106 - ResourceManager : found /views/node.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,107 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,107 - ResourceManager : found /views/fcr-versions.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,108 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-04 15:52:04,108 - ResourceManager : found /views/fcr-fixity.vsl with loader org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader
2015-08-10 15:15:22,344 - Log4JLogChute initialized using file 'velocity.log'
